(this.webpackJsonpmoviedb=this.webpackJsonpmoviedb||[]).push([[0],{38:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var s=c(3),a=c.n(s),i=c(30),n=c.n(i),r=(c(38),c(13)),l=c(9),o=c(21),j=c(19),u=c.n(j),b=c(23),d=c(16),m=c(2),h=a.a.createContext(),O=function(e){var t=e.children,c=Object(s.useState)(!1),a=Object(d.a)(c,2),i=a[0],n=a[1],r=Object(s.useState)("Wars"),l=Object(d.a)(r,2),o=l[0],j=l[1],O=Object(s.useState)([]),x=Object(d.a)(O,2),v=x[0],f=x[1],p=Object(s.useCallback)(Object(b.a)(u.a.mark((function e(){var t,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,fetch("https://www.omdbapi.com/?s=".concat(o,"&apikey=30b97e2a"));case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,s=c.Search,f(s||[]),n(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),n(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),[o]);return Object(s.useEffect)((function(){p()}),[o,p]),Object(m.jsx)(h.Provider,{value:{loading:i,setLoading:n,searchTerm:o,setSearchTerm:j,films:v,setFilms:f},children:t})},x=function(e){var t=e.Poster,c=e.Title,s=(e.Type,e.Year),a=e.imdbID;return Object(m.jsxs)("article",{className:"film",children:[Object(m.jsx)("div",{className:"img-container",children:Object(m.jsx)("img",{src:t,alt:c})}),Object(m.jsxs)("div",{className:"film-footer",children:[Object(m.jsx)("h3",{children:c}),Object(m.jsx)("h4",{children:s}),Object(m.jsx)(r.b,{to:"/movie/".concat(a),className:"btn btn-primary btn-details",children:"Details"})]})]})},v=function(){var e=Object(s.useContext)(h);return console.log(e),Object(m.jsxs)("section",{className:"section",children:[Object(m.jsx)("h2",{className:"section-title",children:"Films"}),Object(m.jsx)("div",{className:"films-centre",children:e.films.map((function(e){return Object(m.jsx)(x,Object(o.a)({},e),e.imdbID)}))})]})},f=function(){var e=Object(s.useContext)(h),t=Object(s.useRef)("");Object(s.useEffect)((function(){t.current.focus()}),[]);return Object(m.jsx)("div",{className:"search",children:Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault()},className:"search-form",children:Object(m.jsxs)("div",{className:"search-div",children:[Object(m.jsx)("label",{htmlFor:"movie",children:"Search for a Movie..."}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"text",id:"movie",ref:t,onChange:function(){e.setSearchTerm(t.current.value)}})]})})})},p=function(){return Object(m.jsxs)("main",{children:[Object(m.jsx)(f,{}),Object(m.jsx)(v,{})]})},g=function(){return Object(m.jsxs)("section",{className:"about-section",children:[Object(m.jsx)("h1",{children:"About us"}),Object(m.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean tempor felis eu purus finibus condimentum. Nam ultricies odio enim. Duis cursus leo elit, a semper ex mollis sit amet. Vestibulum fringilla auctor ex, id vestibulum ante. Curabitur pellentesque sapien elit, nec porttitor ex condimentum nec. Pellentesque eleifend ut massa non laoreet. Donec ultricies nulla ipsum, sed malesuada magna pellentesque ut. Praesent vulputate, ex tristique ultrices posuere, magna quam efficitur odio, eget ultrices lectus dui a risus. Suspendisse a fringilla dui. Integer finibus eu risus nec porta. Quisque volutpat ex ut urna euismod finibus. Sed maximus, neque eget venenatis malesuada, tellus nunc consectetur lorem, id ultrices augue velit vel lacus. Ut id commodo est. Mauris placerat ornare ex quis venenatis. In sit amet blandit magna. Etiam sodales finibus sem, sed sodales elit congue quis. Quisque et arcu risus. Sed ullamcorper eget sem commodo malesuada. Vivamus suscipit faucibus ex, quis venenatis lacus condimentum ultricies. Maecenas quis odio feugiat, accumsan ipsum eu, vestibulum nulla. Donec diam elit, finibus ut mattis ut, pretium vitae risus. In vel commodo erat. Integer dictum sem ac mi cursus gravida."})]})},N=function(){return Object(m.jsx)("section",{children:Object(m.jsxs)("div",{className:"error-container",children:[Object(m.jsx)("h2",{children:"Oops! It's a dead end"}),Object(m.jsx)(r.b,{to:"/",className:"btn",children:Object(m.jsx)("button",{children:"back home"})})]})})},w=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"Loading"})})},D=c(27);D.a.initializeApp({apiKey:"AIzaSyCeO9pa2k8JkJdYfTeo7eyXIw0SUppLXgM",authDomain:"moviedb-9f0bb.firebaseapp.com",databaseURL:"https://moviedb-9f0bb-default-rtdb.firebaseio.com",projectId:"moviedb-9f0bb",storageBucket:"moviedb-9f0bb.appspot.com",messagingSenderId:"970512269012",appId:"1:970512269012:web:53490fb14508e9871d8541"});var S=D.a,k=function(){var e=Object(l.f)().id,t=Object(s.useState)(!1),c=Object(d.a)(t,2),a=c[0],i=c[1],n=Object(s.useState)(null),o=Object(d.a)(n,2),j=o[0],h=o[1],O=function(){var t=Object(b.a)(u.a.mark((function t(){var c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,t.next=4,fetch("https://www.omdbapi.com/?i=".concat(e,"&apikey=30b97e2a"));case 4:return c=t.sent,t.next=7,c.json();case 7:s=t.sent,h(s),console.log(s),h(s||null),i(!1),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0),i(!1);case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}();if(Object(s.useEffect)((function(){O()}),[e]),a)return Object(m.jsx)(w,{});if(!j)return Object(m.jsx)("h2",{className:"section-title",children:"no movie to display"});return Object(m.jsxs)("section",{className:"section film-section",children:[Object(m.jsxs)("h2",{className:"section-title",children:[j.Title,Object(m.jsx)("br",{}),Object(m.jsx)(r.b,{to:"/",className:"btn btn-primary",children:"Back Home"})]}),Object(m.jsx)("div",{className:"flexDiv",children:Object(m.jsxs)("div",{className:"movie",children:[Object(m.jsx)("img",{src:j.Poster,alt:j.Title}),Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"movie-data",children:"Awards : "}),j.Awards]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"movie-data",children:"Box Office : "}),j.BoxOffice]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"movie-data",children:"Director : "}),j.Director]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"movie-data",children:"Actors : "}),j.Actors]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"movie-data",children:"Plot : "}),j.Plot,"..."]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"movie-data",children:"IMDB Rating : "}),j.imdbRating]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"movie-data",children:"IMDB Votes : "}),j.imdbVotes]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"movie-data",children:"Released : "}),j.Released]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"movie-data",children:"Runtime : "}),j.Runtime]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"movie-data",children:"Year : "}),j.Year]}),Object(m.jsx)("button",{onClick:function(){return function(e){console.log(e);var t=S.database().ref("MovieDB"),c={name:j.Title,id:e,img:j.Poster,watched:!1};t.push(c)}(e)},children:"Add Movie to Watch List"})]})]})})]})},I=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){S.database().ref("MovieDB").on("value",(function(e){console.log(e.val());var t=e.val(),s=[];for(var i in t)s.push(Object(o.a)(Object(o.a)({},t[i]),{},{id:i})),a(s),console.log(c)}))}),[]),Object(m.jsx)("div",{className:"watchlistDiv",children:c.map((function(e){return console.log(e),Object(m.jsxs)("div",{className:"singledWatchDiv",children:[Object(m.jsx)("h4",{className:e.watched?"complete":"",children:e.name}),Object(m.jsx)("img",{src:e.img,alt:e.name}),Object(m.jsx)("button",{onClick:function(){return t=e.id,void S.database().ref("MovieDB").child(t).update({watched:!t.watched});var t},children:"Watched"}),Object(m.jsx)("button",{onClick:function(){return t=e.id,console.log(t),void S.database().ref("MovieDB").child(t).remove();var t},children:"Remove"})]},e.id)}))})},M=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:Object(m.jsx)(I,{})})})},B=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){S.database().ref("MovieDB").on("value",(function(e){var t=e.val(),c=[];for(var s in t)c.push(t[s]);a(c)}))}),[]),Object(m.jsxs)("nav",{className:"navbar",children:[Object(m.jsx)("div",{className:"nav-centre",children:Object(m.jsx)(r.b,{to:"/",children:Object(m.jsx)("h2",{children:"MovieDB"})})}),Object(m.jsxs)("ul",{className:"nav-links",children:[Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/",children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/about",children:"About"})}),Object(m.jsx)("li",{children:Object(m.jsxs)(r.b,{to:"/watchlist",children:["Watchlist: ",c.length]})})]})]})};var q=function(){return Object(m.jsxs)(r.a,{children:[Object(m.jsx)(B,{}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",children:Object(m.jsx)(p,{})}),Object(m.jsx)(l.a,{path:"/about",children:Object(m.jsx)(g,{})}),Object(m.jsx)(l.a,{path:"/watchlist",children:Object(m.jsx)(M,{})}),Object(m.jsx)(l.a,{path:"/movie/:id",children:Object(m.jsx)(k,{})}),Object(m.jsx)(l.a,{path:"*",children:Object(m.jsx)(N,{})})]})]})};n.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(O,{children:Object(m.jsx)(q,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.beafc13f.chunk.js.map